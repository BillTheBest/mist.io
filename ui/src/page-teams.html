<link rel="import" href="../bower_components/polymer/polymer.html">

<link rel="import" href="../elements/pages/page-items.html">
<link rel="import" href="../elements/teams/team-page.html">

<dom-module id="page-teams">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>
    <app-route route="{{route}}"
                pattern="/:team"
                data="{{data}}"></app-route>

    <page-items model="[[model]]" items="[[model.teamsArray]]" section="[[sections.teams]]" onboarding="[[onboarding]]" hidden$=[[!_isListActive(route.path)]]></page-items>
    <team-page model="[[model]]" team$="[[_getTeam(data.team, model.stacks)]]" section="[[sections.teams]]" hidden$=[[!_isDetailsPageActive(route.path)]]></template-page>
  </template>

  <script>
    Polymer({

      is: 'page-teams',

      properties: {
        model: Object,
        onboarding: Object
      },

      attached: function() {

      },

      _isDetailsPageActive: function(path) {
          return path && path != '/+add';
      },
      _isListActive: function(path) {
          return !path;
      },
      _getTeam: function(id) {
          if (this.model.teams)
              return this.model.teams[id];
      },


    });
  </script>
</dom-module>
