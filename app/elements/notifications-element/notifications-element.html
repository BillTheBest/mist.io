<link rel="import" href="../../bower_components/iron-icons/maps-icons.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-badge/paper-badge.html">
<!-- <link rel="import" href="../../bower_components/neon-animated-pages/neon-animated-pages.html">
<link rel="import" href="../../bower_components/neon-animatable/neon-animatable.html">
<link rel="import" href="../../bower_components/neon-animations/neon-animations.html"> -->

<dom-module id="notifications-element">
  <template>
    <style>
      h2{
        color: rgba(0,0,0,0.54);
        line-height: 64px;
        font-weight: 400;
        text-align: center;
      }
      #settings{
        /*width: 18px;
        height: 20px;*/
        top: 12px;
        position: absolute;
        left: 5px;
        /*background-color: #e5e5e5;
        box-shadow: none;*/
        opacity: 0.26;
      }
      .showall{
        /*border-radius: 3px 3px 0 0;*/
        background: #ebebeb;
        cursor: pointer;
        /*line-height: 14px;
        margin: 0 0 0 20px;
        padding: 17px 0;
        text-align: center;
        right:5%;*/
        width: 360px;
      }
      paper-item{
        /*border-bottom: solid;
        border-width: 1px;
        border-color: grey;*/
        color: rgba(0,0,0,0.87);
        border-bottom: 1px solid #ddd;
      }
      #header{
        background-color: #cacaca;
        margin-top: 0;
        position: relative;
        /*width: auto;
        line-height: 80px;*/
        height: 64px;
        position: relative;
        @apply(--layout-horizontal);
        align-items: center;
        /*top: -24px;*/
      }
      paper-dialog{
        position: absolute;
        right: -40px;
        top: 30px;
        z-index: 1;
      }
      paper-dialog ::content paper-dialog-scrollable {
        padding: 0 !important;
      }
      #notfab{
        box-sizing: border-box;
        border-radius: 100%;
        height: 40px;
        width: 40px;
        color: #fff;
      }
      paper-icon-button ::content iron-icon {
        color: inherit;
      }
      .bullet{
        color: var(--red-color);
        width: 16px;
        margin-right: 8px;
      }
      .red {
        --paper-badge-background: var(--red-color);
        color: var(--red-color);        
      }
      .green {
        color: var(--green-color);        
      }
      .orange {
        color: var(--orange-color);        
      }
      paper-badge {
        --paper-badge-margin-left: -40px;
        --paper-badge-margin-bottom: -16px;
      }
      paper-dialog > *:first-child {
        margin-top: 0 !important;
      }
    </style>

    <paper-icon-button id="notfab" icon="social:notifications" toggles active="{{mainDialogOpen}}">notifications</paper-icon-button>

    <paper-badge for="notfab" label="3" class="red"></paper-badge>
    <paper-dialog opened="{{mainDialogOpen}}">
      <div id="header">
        <paper-icon-button id="settings" icon="settings"></paper-icon-button>
        <h2 class="flex">Notifications</h2>
      </div>
      <paper-dialog-scrollable>
        <template is="dom-repeat" items="[[notifications]]">
          <paper-item><iron-icon class$="bullet [[item.type]]" icon="image:lens"></iron-icon>[[item.text]]</paper-item>
        </template>
      </paper-dialog-scrollable>
      <div class="buttons">
        <paper-button class="showall">Show all</paper-button>
      </div>
    </paper-dialog>
  </template>
  <script>
    Polymer({
      is: 'notifications-element',

      properties: {
        mainDialogOpen: Boolean,
        notifications: {
          type: Array,
          value: [
            {
              text: 'Server down-time',
              type: 'red'
            },
            {
              text: 'Machine stopped working',
              type: 'red'
            },
            {
              text: 'Server down-time',
              type: 'orange'
            },
            {
              text: 'Collectd installed successfully',
              type: 'green'
            }
          ]
        }
      },
      _is: function(){

      }
    });
  </script>
</dom-module>
